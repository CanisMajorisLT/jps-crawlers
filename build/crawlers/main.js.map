{"version":3,"sources":["crawlers/main.js"],"names":[],"mappings":";;;;;;;;;;wDAaO;AAAA,YACiB,kBADjB,QACH,kBADG;AAAA,YAEK,MAFL,QAEH,MAFG;AAAA,YAGK,MAHL,QAGH,MAHG;;AAAA,6CAMI,aANJ,EAMmB,gBANnB,oCAOI,aAPJ,EAOmB,gBAPnB;;AAAA;AAAA;AAAA;AAAA;AAAA,yCAMuC,eANvC;AAAA;AAMI,qCANJ;AAMmB,wCANnB;AAAA,0CAOuC,eAPvC;AAAA;AAOI,qCAPJ;AAOmB,wCAPnB;;;AASH,4CAAI,kBAAJ,EAAwB,MAAxB,EAAgC,gBAAhC;AACA,4CAAI,kBAAJ,EAAwB,MAAxB,EAAgC,gBAAhC;;AAVG;AAAA,+BAYG,QAAQ,GAAR,CAAY,CAAC,aAAD,EAAgB,aAAhB,CAAZ,CAZH;;AAAA;AAaH,yCAAO,KAAP,CAAa,wDAAb;AACA;;AAdG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;oBAAe,K;;;;;AAbtB;;;;AACA;;;;AACA;;;;;;;;AAEA,SAAS,aAAT,GAAyB;AACrB,QAAI,YAAJ;AACA,QAAM,OAAO,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAmB;AACxC,cAAM,OAAN;AACH,KAFY,CAAb;;AAIA,WAAO,CAAC,IAAD,EAAO,GAAP,CAAP;AACH","file":"crawlers/main.js","sourcesContent":["import CVB from './cvb/main'\r\nimport CVO from './cvo/main'\r\nimport logger from '../../logging/logger'\r\n\r\nfunction onDoneWrapper() {\r\n    let res;\r\n    const prom = new Promise((resolve, reject)=>{\r\n        res = resolve\r\n    });\r\n\r\n    return [prom, res]\r\n}\r\n\r\nexport async function crawl({\r\n    taskSuccessHandler: taskSuccessHandler,\r\n    onDone: onDone,\r\n    config: config\r\n    }) {\r\n\r\n    const [onDoneWrapCVB, resolveOnDoneCVB] = onDoneWrapper();\r\n    const [onDoneWrapCVO, resolveOnDoneCVO] = onDoneWrapper();\r\n\r\n    CVB(taskSuccessHandler, config, resolveOnDoneCVB);\r\n    CVO(taskSuccessHandler, config, resolveOnDoneCVO);\r\n\r\n    await Promise.all([onDoneWrapCVB, onDoneWrapCVO]);\r\n    logger.debug('Main crawler wrap, both crawler done promises resolved');\r\n    onDone()\r\n}"],"sourceRoot":"/source/"}