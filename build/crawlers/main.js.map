{"version":3,"sources":["crawlers/main.js"],"names":["taskSuccessHandler","onDone","config","onDoneWrapper","onDoneWrapCVB","resolveOnDoneCVB","onDoneWrapCVO","resolveOnDoneCVO","Promise","all","debug","crawl","res","prom","resolve","reject"],"mappings":";;;;;;;;;;yDAaO;AAAA,YACiBA,kBADjB,SACHA,kBADG;AAAA,YAEKC,MAFL,SAEHA,MAFG;AAAA,YAGKC,MAHL,SAGHA,MAHG;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,yCAMuCC,eANvC;AAAA;AAMIC,qCANJ;AAMmBC,wCANnB;AAAA,0CAOuCF,eAPvC;AAAA;AAOIG,qCAPJ;AAOmBC,wCAPnB;;;AASH,4CAAIP,kBAAJ,EAAwBE,MAAxB,EAAgCG,gBAAhC;AACA,4CAAIL,kBAAJ,EAAwBE,MAAxB,EAAgCK,gBAAhC;;AAVG;AAAA,+BAYGC,QAAQC,GAAR,CAAY,CAACL,aAAD,EAAgBE,aAAhB,CAAZ,CAZH;;AAAA;AAaH,yCAAOI,KAAP,CAAa,wDAAb;AACAT;;AAdG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,K;;oBAAeU,K;;;;;AAbtB;;;;AACA;;;;AACA;;;;;;;;AAEA,SAASR,aAAT,GAAyB;AACrB,QAAIS,YAAJ;AACA,QAAMC,OAAO,IAAIL,OAAJ,CAAY,UAACM,OAAD,EAAUC,MAAV,EAAmB;AACxCH,cAAME,OAAN;AACH,KAFY,CAAb;;AAIA,WAAO,CAACD,IAAD,EAAOD,GAAP,CAAP;AACH","file":"crawlers/main.js","sourcesContent":["import CVB from './cvb/main'\nimport CVO from './cvo/main'\nimport logger from '../../logging/logger'\n\nfunction onDoneWrapper() {\n    let res;\n    const prom = new Promise((resolve, reject)=>{\n        res = resolve\n    });\n\n    return [prom, res]\n}\n\nexport async function crawl({\n    taskSuccessHandler: taskSuccessHandler,\n    onDone: onDone,\n    config: config\n    }) {\n\n    const [onDoneWrapCVB, resolveOnDoneCVB] = onDoneWrapper();\n    const [onDoneWrapCVO, resolveOnDoneCVO] = onDoneWrapper();\n\n    CVB(taskSuccessHandler, config, resolveOnDoneCVB);\n    CVO(taskSuccessHandler, config, resolveOnDoneCVO);\n\n    await Promise.all([onDoneWrapCVB, onDoneWrapCVO]);\n    logger.debug('Main crawler wrap, both crawler done promises resolved');\n    onDone()\n}"],"sourceRoot":"/source/"}