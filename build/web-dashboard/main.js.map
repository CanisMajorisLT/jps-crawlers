{"version":3,"sources":["../../src/web-dashboard/main.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAA,QAAQ,gBAAR;;;AAKA,IAAM,aAAa,eAAK,IAAL,CAAU,SAAV,EAAqB,OAArB,EAA8B,eAA9B,CAAb;;AAGN,IAAM,MAAM,wBAAN;;AAGN,IAAI,GAAJ,CAAQ,QAAR,EAAkB,UAAC,GAAD,EAAM,GAAN,EAAa;AAC3B,kBAD2B;AAE3B,QAAI,IAAJ,CAAS,OAAT,EAF2B;CAAb,CAAlB;;AAKA,IAAI,GAAJ,CAAQ,OAAR;wDAAiB,iBAAe,GAAf,EAAoB,GAApB;YACP;;;;;;+BAAe;;;AAAf;;AACN,4BAAI,IAAJ,CAAS,MAAT;;;;;;;;KAFa;;;;;GAAjB;;AAKA,IAAI,MAAJ,CAAW,QAAQ,GAAR,CAAY,IAAZ,IAAoB,IAApB,CAAX;AACA,QAAQ,GAAR,CAAY,eAAZ,EAA6B,QAAQ,GAAR,CAAY,IAAZ,CAA7B;;AAGA,SAAS,UAAT,GAAsB;AAClB,WAAO,IAAI,OAAJ,CAAY,UAAC,OAAD,EAAU,MAAV,EAAoB;AACnC,qBAAG,QAAH,CAAY,UAAZ,EAAwB,UAAC,GAAD,EAAM,OAAN,EAAiB;AACrC,oBAAQ,KAAK,KAAL,CAAW,OAAX,CAAR,EADqC;SAAjB,CAAxB,CADmC;KAApB,CAAnB,CADkB;CAAtB;;AASA,SAAS,WAAT,GAAuB;AACnB,QAAM,UAAU,EAAC,UAAU,iBAAiB,IAAI,IAAJ,EAAjB,EAArB,CADa;AAEnB,iBAAG,SAAH,CAAa,UAAb,EAAyB,KAAK,SAAL,CAAe,OAAf,CAAzB,EAAkD,YAAK;AACnD,gBAAQ,GAAR,CAAY,eAAZ,EADmD;KAAL,CAAlD,CAFmB;CAAvB","file":"main.js","sourcesContent":["require('babel-polyfill');\r\nimport express from 'express'\r\nimport fs from 'fs'\r\nimport path from 'path'\r\n\r\nconst configPath = path.join(__dirname, '../..', 'jps-crawlerrc');\r\n\r\n\r\nconst app = express();\r\n\r\n\r\napp.get('/write', (req, res)=> {\r\n    writeConfig();\r\n    res.send('Wrote')\r\n});\r\n\r\napp.get('/read', async function(req, res) {\r\n    const config = await readConfig();\r\n    res.send(config)\r\n});\r\n\r\napp.listen(process.env.PORT || 3000);\r\nconsole.log('Listenign on ', process.env.PORT);\r\n\r\n\r\nfunction readConfig() {\r\n    return new Promise((resolve, rejecr)=> {\r\n        fs.readFile(configPath, (err, content)=> {\r\n            resolve(JSON.parse(content));\r\n        })\r\n    })\r\n\r\n}\r\n\r\nfunction writeConfig() {\r\n    const newData = {\"config\": \"Bye world :)\" + new Date()};\r\n    fs.writeFile(configPath, JSON.stringify(newData), ()=> {\r\n        console.log('Wrote config!');\r\n    })\r\n}\r\n"]}